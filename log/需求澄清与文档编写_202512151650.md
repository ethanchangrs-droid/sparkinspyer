# 需求澄清与文档编写记录

> **时间**: 2025-12-15 16:50 (UTC+8)  
> **任务**: SparkInspyer 项目需求澄清与文档编写

---

## 用户原始需求

用户希望创建一个导航页面，用来管理自己开发的一些小工具（例如/Users/david/Desktop/pitem/提刚V2.0）：
- 导航页面可以在网页端运行，也可以在微信小程序运行
- 工具使用的域名都是导航页的子域名
- 需要一个管理后台，用于查看各个工具的使用数据，这个后台不对用户开放

---

## 需求澄清过程

### 第一轮澄清问题

1. 工具数量与增长预期
2. 是否需要分类展示
3. 用户体系需求
4. 工具展示信息
5. 个性化功能需求
6. 技术栈
7. 子域名格式
8. 多端功能一致性
9. 登录方式
10. 统计数据类型和维度
11. 管理功能复杂度
12. 技术偏好和部署环境

### 用户回复要点

| 问题 | 用户答复 |
|------|----------|
| 工具数量 | 目前1个，预期增长到100个 |
| 分类 | 暂时不需要 |
| 登录 | 暂不需要，未来可能做微信登录 |
| 工具信息 | 需要简介、使用说明 |
| 个性化功能 | 需要收藏、最近使用、搜索 |
| 多端一致性 | 不必完全一致 |
| 统计数据 | PV/UV、活跃用户、使用时长、功能频次 |
| 统计维度 | 按日/周/月、用户行为分析 |
| 管理功能 | 暂不需要复杂管理 |
| 技术栈 | 请根据需求推荐 |
| 部署 | 偏好腾讯云 |
| 域名 | 已有 |

---

## 现有项目技术栈分析

通过查看 `/Users/david/Desktop/pitem/提刚V2.0` 和 `/Users/david/Desktop/pitem/admin` 项目：

### 提刚V2.0（小工具示例）
- React 18 + TypeScript
- Vite 构建
- TailwindCSS 样式
- Zustand 状态管理
- Framer Motion 动画

### Admin（管理后台示例）
- Next.js 14
- TypeScript
- Prisma ORM + PostgreSQL
- TailwindCSS
- Radix UI 组件库
- Recharts 图表

---

## 输出文档

### 1. PRD_工具导航平台_V1.0_202512151650.md

主要内容：
- 项目概述（背景、目标、命名）
- 用户角色定义
- 功能需求（导航页、小程序、管理后台）
- 数据埋点设计
- 非功能需求
- 发布计划

### 2. SPEC_工具导航平台_V1.0_202512151650.md

主要内容：
- 系统架构设计
- 技术栈选型及理由
- 项目结构（Monorepo）
- 数据库设计（PostgreSQL + ClickHouse）
- API 接口设计
- 埋点 SDK 设计
- 前端架构
- 部署方案
- 安全设计
- 扩展性设计

### 3. UI_工具导航平台_V1.0_202512151650.md

主要内容：
- 设计理念与原则
- 设计规范（色彩、字体、间距、圆角、阴影、动效）
- 导航页设计（布局、组件、动效、响应式）
- 小程序设计
- 管理后台设计
- 图标设计
- 交互规范

---

## 技术选型建议

基于用户现有技术栈和需求，推荐以下方案：

| 模块 | 推荐技术 | 理由 |
|------|----------|------|
| 导航页 Web | React + Vite + TS | 与现有项目一致 |
| 小程序 | Taro + React | 跨端框架，复用 React 生态 |
| 管理后台 | Next.js | 与现有 admin 一致 |
| 数据库 | PostgreSQL | 结构化数据存储 |
| 埋点存储 | ClickHouse（后期）| 高性能时序分析 |
| 部署 | 腾讯云 | 用户偏好 |

---

## 下一步工作

1. 用户确认文档内容
2. 创建 feature_list.json
3. 开始 MVP 阶段开发

---

## V1.1 更新记录（2025-12-15 17:09）

用户反馈希望简化部署方案，询问能否只用 EdgeOne 托管。

### 分析结论

原方案中需要云服务器和云数据库的功能：
- 云服务器：Next.js 管理后台、API 接口、埋点数据接收
- PostgreSQL：工具元数据存储
- ClickHouse：埋点数据分析

### 简化方案

采用**纯静态 + 第三方统计**方案：

| 功能 | 原方案 | 新方案 |
|------|--------|--------|
| 导航页 | React 静态站 | React 静态站 |
| 工具数据 | PostgreSQL | tools.json 静态文件 |
| 统计分析 | 自建 ClickHouse | 百度统计（免费） |
| 管理后台 | Next.js 后台 | 手动编辑 JSON |
| 部署 | CVM + 云数据库 | EdgeOne 静态托管 |
| 月成本 | ¥145-270 | ¥0-5 |

### 更新的文档

- PRD V1.1：移除自建管理后台，改为手动管理
- SPEC V1.1：简化为纯静态架构
- UI V1.0：无需修改（保持不变）

---

## 文件列表

- `/Users/david/Desktop/pitem/sparkinspyer/docs/PRD_工具导航平台_V1.0_202512151650.md`（已归档）
- `/Users/david/Desktop/pitem/sparkinspyer/docs/PRD_工具导航平台_V1.1_202512151709.md`（当前版本）
- `/Users/david/Desktop/pitem/sparkinspyer/docs/SPEC_工具导航平台_V1.0_202512151650.md`（已归档）
- `/Users/david/Desktop/pitem/sparkinspyer/docs/SPEC_工具导航平台_V1.1_202512151709.md`（当前版本）
- `/Users/david/Desktop/pitem/sparkinspyer/docs/UI_工具导航平台_V1.0_202512151650.md`（当前版本，无需更新）

